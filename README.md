# oni-mvp

A modern Python web application built with FastAPI, HTMX, and Tailwind CSS, following clean architecture principles.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Architecture](#architecture)
- [Project Structure](#project-structure)
- [Prerequisites](#prerequisites)
- [Installation](#installation)
- [Configuration](#configuration)
- [Development](#development)
- [Testing](#testing)
- [Deployment](#deployment)
- [Contributing](#contributing)
- [License](#license)

## Overview

Brief description of what oni-mvp does and its main purpose.

## Features

- ğŸš€ FastAPI backend with async support
- ğŸ¨ Tailwind CSS for styling
- ğŸ”„ HTMX for dynamic interactions
- ğŸ—ï¸ Clean architecture with separated concerns
- ğŸ“¦ Supabase integration ready
- âš¡ Bun for fast frontend tooling

## Architecture

This project follows clean architecture principles with clear separation between:

- **Domain Layer**: Pure business logic and models
- **Infrastructure Layer**: External services and integrations
- **Service Layer**: Application business logic and use cases
- **Web Layer**: HTTP endpoints, templates, and static assets

## Project Structure

```plaintext
oni-mvp/
â”œâ”€â”€ app/                          # Python application package (FastAPI)
â”‚   â”œâ”€â”€ main.py                   # App factory + wiring (routers, static, logging)
â”‚   â”œâ”€â”€ core/                     # Cross-cutting core: settings, logging, constants
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ logging.py
â”‚   â”œâ”€â”€ domain/                   # Pure domain models (no FastAPI, no Supabase)
â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”œâ”€â”€ infra/                    # External integrations (Supabase, etc.)
â”‚   â”‚   â””â”€â”€ supabase.py
â”‚   â”œâ”€â”€ services/                 # App/business layer (repos, use-cases)
â”‚   â”‚   â””â”€â”€ services_repo.py
â”‚   â””â”€â”€ web/                      # HTTP delivery layer (routes, templates, static assets)
â”‚       â”œâ”€â”€ templates.py          # Single shared Jinja2Templates instance
â”‚       â”œâ”€â”€ routes/
â”‚       â”‚   â”œâ”€â”€ home.py
â”‚       â”‚   â”œâ”€â”€ health.py
â”‚       â”‚   â””â”€â”€ services.py
â”‚       â”œâ”€â”€ templates/
â”‚       â”‚   â”œâ”€â”€ base.html
â”‚       â”‚   â”œâ”€â”€ index.html
â”‚       â”‚   â””â”€â”€ services/
â”‚       â”‚       â”œâ”€â”€ index.html
â”‚       â”‚       â””â”€â”€ _list.html
â”‚       â””â”€â”€ static/
â”‚           â”œâ”€â”€ app.css           # Built output (generated by Tailwind CLI)
â”‚           â””â”€â”€ fonts/            # Self-hosted fonts (served by /static)
â”‚               â”œâ”€â”€ ClashDisplay-Variable.woff
â”‚               â””â”€â”€ GeneralSans-Variable.woff2
â”‚
â”œâ”€â”€ frontend/                     # Asset builder only (Bun + Tailwind CLI)
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ bun.lock
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ app.css               # Tailwind input (source)
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ 01-setup.md
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ dev.ps1
â”‚
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ .pre-commit-config.yaml
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .gitattributes
â”œâ”€â”€ .env                          # local only, never commit secrets
â””â”€â”€ README.md
```

### Why This Structure?

- **`app/core/`**: Centralizes configuration and logging that's used everywhere
- **`app/domain/`**: Keeps business logic pure and framework-agnostic
- **`app/infra/`**: Isolates external dependencies for easy mocking and testing
- **`app/services/`**: Implements use cases and orchestrates domain + infra
- **`app/web/`**: Separates HTTP concerns from business logic
- **`frontend/`**: Dedicated build tooling separate from Python runtime

## Prerequisites

- Python 3.11+
- Bun (latest)
- Supabase account (optional)

## Installation

```bash
# Clone the repository
git clone https://github.com/Moonchichiii/oni-mvp.git
cd oni-mvp

# Install Python dependencies
pip install -e .

# Install frontend dependencies
cd frontend
bun install
cd ..
```

## Configuration

1. Copy `.env.example` to `.env`
2. Configure your environment variables:

```env
# Add your configuration here
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_key
```

## Development

```bash
# Run development server
./scripts/dev.ps1

# Or manually:
# Terminal 1 - Frontend build watch
cd frontend && bun run dev

# Terminal 2 - FastAPI server
uvicorn app.main:app --reload
```

## Testing

```bash
# Run tests
pytest

# Run with coverage
pytest --cov=app
```

## Deployment

Deployment instructions coming soon.

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

[Specify your license here]
